{
    "projectType": "application",
    "targets": {
        "build": {
            "executor": "nx:run-commands",
            "options": {
                "command": "npm run build",
                "cwd": "apps/frontend"
            }
        },
        "serve": {
            "executor": "nx:run-commands",
            "options": {
                "command": "npm run dev",
                "cwd": "apps/frontend"
            }
        },
        "test": {
            "executor": "nx:run-commands",
            "options": {
                "command": "npm run test",
                "cwd": "apps/frontend"
            }
        },
        "test:watch": {
            "executor": "nx:run-commands",
            "options": {
                "command": "npm run test:watch",
                "cwd": "apps/frontend"
            }
        },
        "test:coverage": {
            "executor": "nx:run-commands",
            "options": {
                "command": "npm run test:coverage",
                "cwd": "apps/frontend"
            }
        },
        "publish": {
            "executor": "nx:run-commands",
            "options": {
                "command": "docker build --target production -t \"$DOCKER_USERNAME/${REPO_NAME}_frontend:$BRANCH_NAME\" . && docker push \"$DOCKER_USERNAME/${REPO_NAME}_frontend:$BRANCH_NAME\"",
                "cwd": "apps/frontend"
            },
            "dependsOn": [
                "build"
            ]
        },
        "retag": {
            "executor": "nx:run-commands",
            "options": {
                "command": "docker buildx imagetools create --tag \"$DOCKER_USERNAME/${REPO_NAME}_frontend:$VERSION\" --tag \"$DOCKER_USERNAME/${REPO_NAME}_frontend:latest\" \"$DOCKER_USERNAME/${REPO_NAME}_frontend:$LAST_VERSION\"",
                "cwd": "apps/frontend"
            }
        }
    }
}